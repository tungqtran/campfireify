<!DOCTYPE html>
<html lang = "en">
    
<head>
    <meta charset = "UTF-8">
    <style>
        body {
            font-family: "New Century Schoolbook", serif;
            font-size: 1.0;
            color: white;
            text-align: center;
        }
    </style>
</head>

<body style = "background-color: #222034;">
    <h1>c a m p f i r e i f y</h1>
    <p>
        homage to bitcamp, 2025
    </p>

    <img src = "https://cdnb.artstation.com/p/assets/images/images/016/439/151/original/westen-fry-bonfire2x.gif?1552169136">


    {% if track %}
        <div>
            <img src="{{ track.image }}" alt="Album Cover" width="150" style="border:2px solid white">
            <h2>{{ track.name }}</h2> <p>by {{ track.artist }}</p>
            <p>[{{ track.album }}]</p>
        </div>
    {% else %}
        <p>No track playing...</p>
    {% endif %}
<!-- <div id="track-info">
    <p> Using the firestarter... </p>
</div> -->

<!-- <script>
    async function fetchCurrentlyPlaying() {
        const response = await fetch('/campfire');
        const data = await response.json();

        if (data.error) {
            document.getElementById('track-info').innerHTML = "<p> No wood for your campfire! (No track playing...) </p>";
        } else {
            document.getElementById('track-info').innerHTML = `
                <h2>${data.name}</h2>
                <p><strong>Artist(s):</strong> ${data.artist}</p>
                <p><strong>Album:</strong> ${data.album}</p>
                <img src = "${data.image}" alt = "${data.name}" style = "width: 200px;">
            `;
        }
    }

    setInterval(fetchCurrentlyPlaying, 10000); // periodically fetch every 10 seconds

    fetchCurrentlyPlaying(); // on page load
</script> -->

<!-- <body>
    <div id="track-info">
        {% if track %}
            <h2 id="track-name">{{ track.name }}</h2>
            <p id="track-artist">{{ track.artist }}</p>
            <p id="track-album">{{ track.album }}</p>
            <img id="track-image" src="{{ track.img }}" style="width: 200px; display: none;">
        {% else %}
            <p> no track playing... </p>
        {% endif %}
    </div>
</body>

<script>
    function updateTrack() {
        fetch('/campfiresecond')
        .then(response => response.json())
        .then(data => {
            if (data.error) {
                document.getElementById('track-info').innerHTML = "<p> No wood for your campfire! (No track playing...) </p>";
            } else {
                document.getElementById('track-name').textContent = data.name;
                document.getElementById('track-artist').textContent = 'Artists: ' + data.artist;
                document.getElementById('track-album').textContent = 'Album: ' + data.album;
                document.getElementById('track-image').src = data.image;
                document.getElementById('track-image').style.display = 'block';
            }
        })
    }

    setInterval(updateTrack, 5000);

    window.onload = updateTrack;
</script> -->



</body>
</html>